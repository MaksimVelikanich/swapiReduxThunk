{"ast":null,"code":"import { setFilmDetails } from './aboutFilmReducer';\nexport const fetchFilmDetails = id => {\n  var _s = $RefreshSig$();\n  return _s(async dispatch => {\n    _s();\n    try {\n      const episode_id = filmFromLocation ? filmFromLocation.url : null;\n      const filmIdFromUrl = episode_id ? episode_id.split('/').slice(-2, -1)[0] : null;\n      const {\n        id\n      } = useParams();\n      const response = await fetch(`https://swapi.dev/api/films/${id}/`);\n      const filmData = await response.json();\n      const charactersData = await Promise.all(filmData.characters.map(async url => {\n        const characterResponse = await fetch(url);\n        return characterResponse.json();\n      }));\n      const planetsData = await Promise.all(filmData.planets.map(async url => {\n        const planetResponse = await fetch(url);\n        return planetResponse.json();\n      }));\n      const starshipsData = await Promise.all(filmData.starships.map(async url => {\n        const starshipResponse = await fetch(url);\n        return starshipResponse.json();\n      }));\n      const vehiclesData = await Promise.all(filmData.vehicles.map(async url => {\n        const vehicleResponse = await fetch(url);\n        return vehicleResponse.json();\n      }));\n      const speciesData = await Promise.all(filmData.species.map(async url => {\n        const speciesResponse = await fetch(url);\n        return speciesResponse.json();\n      }));\n      dispatch(setFilmDetails({\n        film: filmData,\n        characters: charactersData,\n        planets: planetsData,\n        starships: starshipsData,\n        vehicles: vehiclesData,\n        species: speciesData\n      }));\n    } catch (error) {\n      console.error('Error fetching film details:', error);\n    }\n  }, \"yQgCIz/jJfqV1l9s2yoba81MT5A=\", true);\n};","map":{"version":3,"names":["setFilmDetails","fetchFilmDetails","id","_s","$RefreshSig$","dispatch","episode_id","filmFromLocation","url","filmIdFromUrl","split","slice","useParams","response","fetch","filmData","json","charactersData","Promise","all","characters","map","characterResponse","planetsData","planets","planetResponse","starshipsData","starships","starshipResponse","vehiclesData","vehicles","vehicleResponse","speciesData","species","speciesResponse","film","error","console"],"sources":["/Users/a1/react/swapi/src/store/aboutFilmActions.js"],"sourcesContent":["import { setFilmDetails } from './aboutFilmReducer';\n\nexport const fetchFilmDetails = (id) => async (dispatch) => {\n  try {\n\n    const episode_id = filmFromLocation ? filmFromLocation.url : null;\n  const filmIdFromUrl = episode_id ? episode_id.split('/').slice(-2, -1)[0] : null;\n  const { id } = useParams();\n\n  \n    const response = await fetch(`https://swapi.dev/api/films/${id}/`);\n    const filmData = await response.json();\n\n    \n\n    const charactersData = await Promise.all(filmData.characters.map(async (url) => {\n      const characterResponse = await fetch(url);\n      return characterResponse.json();\n    }));\n\n    const planetsData = await Promise.all(filmData.planets.map(async (url) => {\n      const planetResponse = await fetch(url);\n      return planetResponse.json();\n    }));\n\n    const starshipsData = await Promise.all(filmData.starships.map(async (url) => {\n      const starshipResponse = await fetch(url);\n      return starshipResponse.json();\n    }));\n\n    const vehiclesData = await Promise.all(filmData.vehicles.map(async (url) => {\n      const vehicleResponse = await fetch(url);\n      return vehicleResponse.json();\n    }));\n\n    const speciesData = await Promise.all(filmData.species.map(async (url) => {\n      const speciesResponse = await fetch(url);\n      return speciesResponse.json();\n    }));\n\n    dispatch(setFilmDetails({\n      film: filmData,\n      characters: charactersData,\n      planets: planetsData,\n      starships: starshipsData,\n      vehicles: vehiclesData,\n      species: speciesData,\n    }));\n  } catch (error) {\n    console.error('Error fetching film details:', error);\n  }\n};\n"],"mappings":"AAAA,SAASA,cAAc,QAAQ,oBAAoB;AAEnD,OAAO,MAAMC,gBAAgB,GAAIC,EAAE;EAAA,IAAAC,EAAA,GAAAC,YAAA;EAAA,OAAAD,EAAA,CAAK,MAAOE,QAAQ,IAAK;IAAAF,EAAA;IAC1D,IAAI;MAEF,MAAMG,UAAU,GAAGC,gBAAgB,GAAGA,gBAAgB,CAACC,GAAG,GAAG,IAAI;MACnE,MAAMC,aAAa,GAAGH,UAAU,GAAGA,UAAU,CAACI,KAAK,CAAC,GAAG,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI;MAChF,MAAM;QAAET;MAAG,CAAC,GAAGU,SAAS,CAAC,CAAC;MAGxB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,+BAA8BZ,EAAG,GAAE,CAAC;MAClE,MAAMa,QAAQ,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAItC,MAAMC,cAAc,GAAG,MAAMC,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACK,UAAU,CAACC,GAAG,CAAC,MAAOb,GAAG,IAAK;QAC9E,MAAMc,iBAAiB,GAAG,MAAMR,KAAK,CAACN,GAAG,CAAC;QAC1C,OAAOc,iBAAiB,CAACN,IAAI,CAAC,CAAC;MACjC,CAAC,CAAC,CAAC;MAEH,MAAMO,WAAW,GAAG,MAAML,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACS,OAAO,CAACH,GAAG,CAAC,MAAOb,GAAG,IAAK;QACxE,MAAMiB,cAAc,GAAG,MAAMX,KAAK,CAACN,GAAG,CAAC;QACvC,OAAOiB,cAAc,CAACT,IAAI,CAAC,CAAC;MAC9B,CAAC,CAAC,CAAC;MAEH,MAAMU,aAAa,GAAG,MAAMR,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACY,SAAS,CAACN,GAAG,CAAC,MAAOb,GAAG,IAAK;QAC5E,MAAMoB,gBAAgB,GAAG,MAAMd,KAAK,CAACN,GAAG,CAAC;QACzC,OAAOoB,gBAAgB,CAACZ,IAAI,CAAC,CAAC;MAChC,CAAC,CAAC,CAAC;MAEH,MAAMa,YAAY,GAAG,MAAMX,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACe,QAAQ,CAACT,GAAG,CAAC,MAAOb,GAAG,IAAK;QAC1E,MAAMuB,eAAe,GAAG,MAAMjB,KAAK,CAACN,GAAG,CAAC;QACxC,OAAOuB,eAAe,CAACf,IAAI,CAAC,CAAC;MAC/B,CAAC,CAAC,CAAC;MAEH,MAAMgB,WAAW,GAAG,MAAMd,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACkB,OAAO,CAACZ,GAAG,CAAC,MAAOb,GAAG,IAAK;QACxE,MAAM0B,eAAe,GAAG,MAAMpB,KAAK,CAACN,GAAG,CAAC;QACxC,OAAO0B,eAAe,CAAClB,IAAI,CAAC,CAAC;MAC/B,CAAC,CAAC,CAAC;MAEHX,QAAQ,CAACL,cAAc,CAAC;QACtBmC,IAAI,EAAEpB,QAAQ;QACdK,UAAU,EAAEH,cAAc;QAC1BO,OAAO,EAAED,WAAW;QACpBI,SAAS,EAAED,aAAa;QACxBI,QAAQ,EAAED,YAAY;QACtBI,OAAO,EAAED;MACX,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IACtD;EACF,CAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}