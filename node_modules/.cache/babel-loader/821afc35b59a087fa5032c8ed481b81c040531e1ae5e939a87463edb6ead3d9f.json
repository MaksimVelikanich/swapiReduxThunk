{"ast":null,"code":"import { setFilmDetails, setLoading } from './aboutFilmReducer';\nimport axios from 'axios';\nconst API_URL = 'https://swapi.dev/api/films/';\nconst filmFromLocation = location.state ? location.state.film : null;\nconst episode_id = filmFromLocation ? filmFromLocation.url : null;\nconst filmIdFromUrl = episode_id ? episode_id.split('/').slice(-2, -1)[0] : null;\nexport const fetchFilmDetails = id => async dispatch => {\n  try {\n    dispatch(setLoading(true));\n    const response = await axios.get(`${API_URL}${id || filmIdFromUrl}/`);\n    const filmData = response.data;\n    const charactersPromises = filmData.characters.map(url => axios.get(url).then(response => response.data));\n    const planetsPromises = filmData.planets.map(url => axios.get(url).then(response => response.data));\n    const starshipsPromises = filmData.starships.map(url => axios.get(url).then(response => response.data));\n    const vehiclesPromises = filmData.vehicles.map(url => axios.get(url).then(response => response.data));\n    const speciesPromises = filmData.species.map(url => axios.get(url).then(response => response.data));\n    const [charactersData, planetsData, starshipsData, vehiclesData, speciesData] = await Promise.all([Promise.all(charactersPromises), Promise.all(planetsPromises), Promise.all(starshipsPromises), Promise.all(vehiclesPromises), Promise.all(speciesPromises)]);\n    dispatch(setFilmDetails({\n      film: filmData,\n      characters: charactersData,\n      planets: planetsData,\n      starships: starshipsData,\n      vehicles: vehiclesData,\n      species: speciesData\n    }));\n    dispatch(setLoading(false));\n  } catch (error) {\n    console.error('Error fetching film details:', error.message);\n    dispatch(setLoading(false));\n  }\n};","map":{"version":3,"names":["setFilmDetails","setLoading","axios","API_URL","filmFromLocation","location","state","film","episode_id","url","filmIdFromUrl","split","slice","fetchFilmDetails","id","dispatch","response","get","filmData","data","charactersPromises","characters","map","then","planetsPromises","planets","starshipsPromises","starships","vehiclesPromises","vehicles","speciesPromises","species","charactersData","planetsData","starshipsData","vehiclesData","speciesData","Promise","all","error","console","message"],"sources":["/Users/a1/react/swapi/src/store/aboutFilmActions.js"],"sourcesContent":["import { setFilmDetails, setLoading } from './aboutFilmReducer';\nimport axios from 'axios';\n\n\nconst API_URL = 'https://swapi.dev/api/films/';\n\nconst filmFromLocation = location.state ? location.state.film : null;\n  const episode_id = filmFromLocation ? filmFromLocation.url : null;\n  const filmIdFromUrl = episode_id ? episode_id.split('/').slice(-2, -1)[0] : null;\nexport const fetchFilmDetails = (id) => async (dispatch) => {\n  try {\n    dispatch(setLoading(true));\n\n    const response = await axios.get(`${API_URL}${id || filmIdFromUrl}/`);\n    const filmData = response.data;\n\n    const charactersPromises = filmData.characters.map((url) => axios.get(url).then((response) => response.data));\n    const planetsPromises = filmData.planets.map((url) => axios.get(url).then((response) => response.data));\n    const starshipsPromises = filmData.starships.map((url) => axios.get(url).then((response) => response.data));\n    const vehiclesPromises = filmData.vehicles.map((url) => axios.get(url).then((response) => response.data));\n    const speciesPromises = filmData.species.map((url) => axios.get(url).then((response) => response.data));\n\n    const [charactersData, planetsData, starshipsData, vehiclesData, speciesData] = await Promise.all([\n      Promise.all(charactersPromises),\n      Promise.all(planetsPromises),\n      Promise.all(starshipsPromises),\n      Promise.all(vehiclesPromises),\n      Promise.all(speciesPromises),\n    ]);\n\n    dispatch(\n      setFilmDetails({\n        film: filmData,\n        characters: charactersData,\n        planets: planetsData,\n        starships: starshipsData,\n        vehicles: vehiclesData,\n        species: speciesData,\n      })\n    );\n\n    dispatch(setLoading(false));\n  } catch (error) {\n    console.error('Error fetching film details:', error.message);\n    dispatch(setLoading(false));\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}