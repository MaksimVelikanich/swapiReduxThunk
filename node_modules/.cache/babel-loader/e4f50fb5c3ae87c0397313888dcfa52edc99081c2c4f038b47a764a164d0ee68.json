{"ast":null,"code":"import axios from 'axios';\n\n// Action types\nexport const SET_HERO_DETAILS = 'SET_HERO_DETAILS';\n\n// Action creator\nexport const setHeroDetails = heroDetails => ({\n  type: SET_HERO_DETAILS,\n  payload: heroDetails\n});\n\n// Thunk function to fetch hero details\nexport const fetchHeroDetails = id => async dispatch => {\n  try {\n    const response = await axios.get(`https://swapi.dev/api/people/${id}/`);\n    const heroData = response.data;\n    const filmData = await Promise.all(heroData.films.map(url => axios.get(url).then(res => res.data)));\n    dispatch(setHeroDetails({\n      hero: heroData,\n      films: filmData\n    }));\n  } catch (error) {\n    console.error('Error fetching hero details:', error);\n  }\n};","map":{"version":3,"names":["axios","SET_HERO_DETAILS","setHeroDetails","heroDetails","type","payload","fetchHeroDetails","id","dispatch","response","get","heroData","data","filmData","Promise","all","films","map","url","then","res","hero","error","console"],"sources":["/Users/a1/react/swapi/src/store/heroActions.js"],"sourcesContent":["import axios from 'axios';\n\n// Action types\nexport const SET_HERO_DETAILS = 'SET_HERO_DETAILS';\n\n// Action creator\nexport const setHeroDetails = (heroDetails) => ({\n  type: SET_HERO_DETAILS,\n  payload: heroDetails,\n});\n\n// Thunk function to fetch hero details\nexport const fetchHeroDetails = (id) => async (dispatch) => {\n  try {\n    const response = await axios.get(`https://swapi.dev/api/people/${id}/`);\n    const heroData = response.data;\n\n    const filmData = await Promise.all(heroData.films.map(url => axios.get(url).then(res => res.data)));\n\n    dispatch(setHeroDetails({\n      hero: heroData,\n      films: filmData,\n    }));\n  } catch (error) {\n    console.error('Error fetching hero details:', error);\n  }\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,OAAO,MAAMC,gBAAgB,GAAG,kBAAkB;;AAElD;AACA,OAAO,MAAMC,cAAc,GAAIC,WAAW,KAAM;EAC9CC,IAAI,EAAEH,gBAAgB;EACtBI,OAAO,EAAEF;AACX,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMG,gBAAgB,GAAIC,EAAE,IAAK,MAAOC,QAAQ,IAAK;EAC1D,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAE,gCAA+BH,EAAG,GAAE,CAAC;IACvE,MAAMI,QAAQ,GAAGF,QAAQ,CAACG,IAAI;IAE9B,MAAMC,QAAQ,GAAG,MAAMC,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACK,KAAK,CAACC,GAAG,CAACC,GAAG,IAAIlB,KAAK,CAACU,GAAG,CAACQ,GAAG,CAAC,CAACC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACR,IAAI,CAAC,CAAC,CAAC;IAEnGJ,QAAQ,CAACN,cAAc,CAAC;MACtBmB,IAAI,EAAEV,QAAQ;MACdK,KAAK,EAAEH;IACT,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,OAAOS,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;EACtD;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}