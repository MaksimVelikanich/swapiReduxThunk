{"ast":null,"code":"// aboutFilmActions.js\nimport { setFilmDetails, setLoading } from './aboutFilmReducer';\nexport const fetchFilmDetails = id => async dispatch => {\n  try {\n    dispatch(setLoading(true)); // Встановлюємо статус завантаження в true перед початком завантаження\n\n    const response = await fetch(`https://swapi.dev/api/films/${id}/`);\n    const filmData = await response.json();\n    const charactersData = await Promise.all(filmData.characters.map(async url => {\n      const characterResponse = await fetch(url);\n      return characterResponse.json();\n    }));\n    const planetsData = await Promise.all(filmData.planets.map(async url => {\n      const planetResponse = await fetch(url);\n      return planetResponse.json();\n    }));\n    const starshipsData = await Promise.all(filmData.starships.map(async url => {\n      const starshipResponse = await fetch(url);\n      return starshipResponse.json();\n    }));\n    const vehiclesData = await Promise.all(filmData.vehicles.map(async url => {\n      const vehicleResponse = await fetch(url);\n      return vehicleResponse.json();\n    }));\n    const speciesData = await Promise.all(filmData.species.map(async url => {\n      const speciesResponse = await fetch(url);\n      return speciesResponse.json();\n    }));\n    dispatch(setFilmDetails({\n      film: filmData,\n      characters: charactersData,\n      planets: planetsData,\n      starships: starshipsData,\n      vehicles: vehiclesData,\n      species: speciesData\n    }));\n    dispatch(setLoading(false)); // Позначте завантаження як завершене після завершення запиту\n  } catch (error) {\n    console.error('Error fetching film details:', error);\n    dispatch(setLoading(false));\n  }\n};\nexport default fetchFilmDetails;","map":{"version":3,"names":["setFilmDetails","setLoading","fetchFilmDetails","id","dispatch","response","fetch","filmData","json","charactersData","Promise","all","characters","map","url","characterResponse","planetsData","planets","planetResponse","starshipsData","starships","starshipResponse","vehiclesData","vehicles","vehicleResponse","speciesData","species","speciesResponse","film","error","console"],"sources":["/Users/a1/react/swapi/src/store/aboutFilmActions.js"],"sourcesContent":["// aboutFilmActions.js\nimport { setFilmDetails, setLoading } from './aboutFilmReducer';\n\nexport const fetchFilmDetails = (id) => async (dispatch) => {\n  try {\n    dispatch(setLoading(true)); // Встановлюємо статус завантаження в true перед початком завантаження\n\n    const response = await fetch(`https://swapi.dev/api/films/${id}/`);\n    const filmData = await response.json();\n\n    const charactersData = await Promise.all(filmData.characters.map(async (url) => {\n      const characterResponse = await fetch(url);\n      return characterResponse.json();\n    }));\n\n    const planetsData = await Promise.all(filmData.planets.map(async (url) => {\n      const planetResponse = await fetch(url);\n      return planetResponse.json();\n    }));\n\n    const starshipsData = await Promise.all(filmData.starships.map(async (url) => {\n      const starshipResponse = await fetch(url);\n      return starshipResponse.json();\n    }));\n\n    const vehiclesData = await Promise.all(filmData.vehicles.map(async (url) => {\n      const vehicleResponse = await fetch(url);\n      return vehicleResponse.json();\n    }));\n\n    const speciesData = await Promise.all(filmData.species.map(async (url) => {\n      const speciesResponse = await fetch(url);\n      return speciesResponse.json();\n    }));\n\n    dispatch(setFilmDetails({\n      film: filmData,\n      characters: charactersData,\n      planets: planetsData,\n      starships: starshipsData,\n      vehicles: vehiclesData,\n      species: speciesData,\n    }));\n    dispatch(setLoading(false)); // Позначте завантаження як завершене після завершення запиту\n\n  } catch (error) {\n    console.error('Error fetching film details:', error);\n    dispatch(setLoading(false));\n  }\n};\nexport default fetchFilmDetails;"],"mappings":"AAAA;AACA,SAASA,cAAc,EAAEC,UAAU,QAAQ,oBAAoB;AAE/D,OAAO,MAAMC,gBAAgB,GAAIC,EAAE,IAAK,MAAOC,QAAQ,IAAK;EAC1D,IAAI;IACFA,QAAQ,CAACH,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;;IAE5B,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAE,+BAA8BH,EAAG,GAAE,CAAC;IAClE,MAAMI,QAAQ,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IAEtC,MAAMC,cAAc,GAAG,MAAMC,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACK,UAAU,CAACC,GAAG,CAAC,MAAOC,GAAG,IAAK;MAC9E,MAAMC,iBAAiB,GAAG,MAAMT,KAAK,CAACQ,GAAG,CAAC;MAC1C,OAAOC,iBAAiB,CAACP,IAAI,CAAC,CAAC;IACjC,CAAC,CAAC,CAAC;IAEH,MAAMQ,WAAW,GAAG,MAAMN,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACU,OAAO,CAACJ,GAAG,CAAC,MAAOC,GAAG,IAAK;MACxE,MAAMI,cAAc,GAAG,MAAMZ,KAAK,CAACQ,GAAG,CAAC;MACvC,OAAOI,cAAc,CAACV,IAAI,CAAC,CAAC;IAC9B,CAAC,CAAC,CAAC;IAEH,MAAMW,aAAa,GAAG,MAAMT,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACa,SAAS,CAACP,GAAG,CAAC,MAAOC,GAAG,IAAK;MAC5E,MAAMO,gBAAgB,GAAG,MAAMf,KAAK,CAACQ,GAAG,CAAC;MACzC,OAAOO,gBAAgB,CAACb,IAAI,CAAC,CAAC;IAChC,CAAC,CAAC,CAAC;IAEH,MAAMc,YAAY,GAAG,MAAMZ,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACgB,QAAQ,CAACV,GAAG,CAAC,MAAOC,GAAG,IAAK;MAC1E,MAAMU,eAAe,GAAG,MAAMlB,KAAK,CAACQ,GAAG,CAAC;MACxC,OAAOU,eAAe,CAAChB,IAAI,CAAC,CAAC;IAC/B,CAAC,CAAC,CAAC;IAEH,MAAMiB,WAAW,GAAG,MAAMf,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACmB,OAAO,CAACb,GAAG,CAAC,MAAOC,GAAG,IAAK;MACxE,MAAMa,eAAe,GAAG,MAAMrB,KAAK,CAACQ,GAAG,CAAC;MACxC,OAAOa,eAAe,CAACnB,IAAI,CAAC,CAAC;IAC/B,CAAC,CAAC,CAAC;IAEHJ,QAAQ,CAACJ,cAAc,CAAC;MACtB4B,IAAI,EAAErB,QAAQ;MACdK,UAAU,EAAEH,cAAc;MAC1BQ,OAAO,EAAED,WAAW;MACpBI,SAAS,EAAED,aAAa;MACxBI,QAAQ,EAAED,YAAY;MACtBI,OAAO,EAAED;IACX,CAAC,CAAC,CAAC;IACHrB,QAAQ,CAACH,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;EAE/B,CAAC,CAAC,OAAO4B,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IACpDzB,QAAQ,CAACH,UAAU,CAAC,KAAK,CAAC,CAAC;EAC7B;AACF,CAAC;AACD,eAAeC,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}